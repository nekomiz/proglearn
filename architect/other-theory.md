# Other Theory
- [TDD](#tdd)
- [DDD](#ddd)
- [Зачем мне нужен DDD?](#зачем-мне-нужен-ddd)
- [Шестиугольная архитектура](#шестиугольная-архитектура)
- [ESB (Enterprise Service Bus)](#esb-enterpise-service-bus)


## TDD
> __Test-driven development (TDD)__ — это подход к разработке программ, при котором разработчик сначала описывает тесты для функции, которую хочет создать, а затем пишет сам код, который проходит эти тесты.

При таком подходе главные издержки разработки — время на рефакторинг и исправление ошибок — снижаются. А значит, уменьшаются и затраты на создание и поддержку продукта.

Упрощённо TDD можно представить в виде нескольких шагов:

1. __Написание теста.__ Разработчик начинает работу с создания теста, который будет проверять работоспособность кода.
2. __Запуск теста.__ При первом запуске тест не должен быть пройден, так как функционального кода программы ещё нет.
3. __Написание кода.__ Разработчик пишет код с минимальной функциональностью, которая позволяет успешно пройти тест.
4. __Повторный запуск теста.__ При повторном запуске тест должен быть пройден удачно.
5. __Рефакторинг.__ После успешного завершения тестов разработчик может приступить к рефакторингу — улучшению и оптимизации кода. Важно, что после каждого изменения запуск теста повторяется.

Каждый функциональный модуль, который добавляется в приложение, должен пройти эти этапы. Таким образом, разработчик уже в процессе написания отдельных частей программы подтверждает, что они успешно проходят тесты.


## DDD
> DDD (Domain-Driven Design, Предметно-ориентированное проектирование) -  это подход к разработке программного обеспечения, который заключается в создании специализированного языка программирования или набора инструментов, ориентированных на решение конкретной предметной области или класса задач.

Предметно-ориентированное проектирование позволяет разработчикам создавать программное обеспечение, которое более точно отражает особенности и требования конкретной предметной области. Вместо того чтобы использовать общие языки программирования, такие как Java или C++, разработчики могут создавать специализированные языки, которые лучше соответствуют конкретным задачам и потребностям.

При использовании предметно-ориентированного проектирования разработчики могут создавать модели, описывающие концептуальные аспекты предметной области, и автоматически генерировать исполняемый код на основе этих моделей. Это позволяет сократить время и усилия, затрачиваемые на разработку программного обеспечения, и повысить его качество.

Преимущества предметно-ориентированного проектирования включают более высокую производительность разработки, повышенную читаемость и понятность кода, легкость сопровождения и модификации программного обеспечения, а также возможность повторного использования компонентов.

В общем, предметно-ориентированное проектирование позволяет разработчикам создавать более эффективное и гибкое программное обеспечение, специально адаптированное к конкретным потребностям предметной области.


## Зачем мне нужен DDD?
> Доменно-ориентированный дизайн (DDD) - это подход к разработке программного обеспечения, который помогает организовать код таким образом, чтобы он отражал бизнес-логику и структуру домена предметной области. Основная идея DDD заключается в том, чтобы построить модель системы, которая полностью соответствует бизнес-процессам и предметной области, с которыми работает программа.

Основные преимущества использования DDD в разработке программного обеспечения:

+ __Понятность и легкость сопровождения__: DDD помогает создать ясную и понятную модель системы, которая отражает бизнес-логику. Это делает код более легким для чтения, понимания и сопровождения, как для новых разработчиков, так и для существующих членов команды.

+ __Гибкость и масштабируемость__: DDD позволяет разбить систему на модули, отражающие различные аспекты предметной области. Это позволяет легко добавлять новые функциональные возможности и изменять существующие без необходимости переписывать весь код. DDD также способствует легкому масштабированию системы при необходимости.

+ __Улучшенное взаимодействие с бизнесом__: DDD помогает установить эффективное взаимодействие между разработчиками и бизнес-аналитиками. Благодаря четкому отражению бизнес-логики в коде, разработчики лучше понимают требования и ожидания бизнеса, что способствует более эффективной работе.

+ __Улучшенная тестирование__: DDD способствует созданию модульных и независимых от других компонентов системы моделей. Это делает их легкими для тестирования, что повышает качество программного обеспечения.

В целом, использование доменно-ориентированного дизайна в разработке программного обеспечения помогает создать более гибкую, понятную и легко сопровождаемую систему, которая полностью отражает бизнес-процессы и потребности предметной области.


## Шестиугольная архитектура
Шестиугольная архитектура (или гексагональная архитектура) — это архитектурный подход к проектированию программных систем, предложенный французским программистом Алистером Кокберном (Alistair Cockburn). Главная идея этой архитектуры заключается в отделении бизнес-логики приложения от инфраструктуры и внешних зависимостей, таких как базы данных, внешние сервисы, пользовательские интерфейсы и т.п. Это достигается за счет разделения системы на несколько слоев, которые взаимодействуют друг с другом через четко определенные порты и адаптеры.

### Основные принципы шестиугольной архитектуры

1. **Бизнес-логика в центре**:
   Бизнес-логика находится в ядре системы и полностью изолирована от всех внешних компонентов. Это ядро должно быть независимым от конкретных технологий и внешних источников данных.

2. **Порты и адаптеры**:
   Внешние зависимости подключаются к системе через порты и адаптеры. Порты определяют интерфейс взаимодействия, а адаптеры реализуют конкретную реализацию этих интерфейсов для разных типов внешних систем.

3. **Двунаправленность**:
   Шестиугольная архитектура предполагает двунаправленное взаимодействие между ядром и внешними компонентами. То есть, бизнес-логика может инициировать вызовы к внешним системам, а внешние системы могут вызывать бизнес-логику через соответствующие порты и адаптеры.

4. **Тестопригодность**:
   Благодаря четкому разделению на слои и использованию портов и адаптеров, шестиугольная архитектура делает систему тестопригодной. Можно легко заменить реальные внешние компоненты на заглушки (mocks) для тестирования бизнес-логики отдельно от внешних зависимостей.

### Компоненты шестиугольной архитектуры

1. **Ядро (Domain Layer)**:
   Ядро системы содержит бизнес-логику, модели предметной области и правила бизнеса. Оно не зависит от внешних компонентов и может работать независимо от них.

2. **Порты (Ports)**:
   Порты представляют собой интерфейсы, через которые происходит взаимодействие между ядром и внешними системами. Они определяют контракт взаимодействия, но не содержат конкретной реализации.

3. **Адаптеры (Adapters)**:
   Адаптеры реализуют конкретные интерфейсы портов для взаимодействия с внешними системами. Есть два типа адаптеров:
   - **Primary Adapters (Driving Adapters)**: отвечают за обработку входящего трафика (например, контроллеры в MVC).
   - **Secondary Adapters (Driven Adapters)**: обрабатывают исходящий трафик (например, репоcиторий базы данных).

4. **Внешний слой (Infrastructure Layer)**:
   Этот слой содержит все внешние зависимости, такие как базы данных, веб-сервисы, файловые системы и т.д. Инфраструктурные компоненты взаимодействуют с ядром через адаптеры.

### Пример

Рассмотрим простой пример веб-приложения, написанного с использованием шестиугольной архитектуры:

1. **Доменное ядро**:
   Содержит бизнес-логику, такую как проверка корректности ввода данных, расчет стоимости заказа и т.д.

2. **Порты**:
   - Порт для обработки HTTP-запросов.
   - Порт для сохранения данных в базу данных.

3. **Адаптеры**:
   - Контроллер, который получает HTTP-запросы и передает их в доменную модель.
   - Репозиторий базы данных, который реализует сохранение данных через соответствующий порт.

4. **Инфраструктура**:
   - Веб-сервер, принимающий HTTP-запросы.
   - База данных, хранящая данные.

### Преимущества шестиугольной архитектуры

- **Модульность и тестопригодность**: Легко заменять и тестировать отдельные части системы.
- **Инверсия зависимостей**: Внешняя инфраструктура зависит от ядра, а не наоборот.
- **Гибкость и расширяемость**: Легче адаптироваться под изменения требований и технологий.
- **Четкое разделение ответственности**: Ясное разграничение между бизнес-логикой и инфраструктурой.

### Заключение

Шестиугольная архитектура предлагает эффективный способ проектирования приложений, позволяющий добиться высокой степени модульности, тестопригодности и гибкости. Она помогает избежать жесткой привязанности к конкретным технологиям и сделать код более поддерживаемым и устойчивым к изменениям.    


## ESB (Enterprise Service Bus)
ESB (Enterprise Service Bus) - это разновидность сервис-ориентированной архитектуры, основанная на использовании общей шины для интеграции различных информационных систем. Она позволяет разработчикам объединять разные системы на основе принципов обмена сообщениями, сопоставления данных, управления сообщениями, надежности, защиты и масштабирования между узлами. Одним из примеров ESB является MuleESB, который представляет собой легковесную интеграционную платформу с открытым исходным кодом. Название "Mule" было выбрано потому, что эта платформа берет на себя значительную часть нагрузки разработчиков интеграционных систем, обеспечивая при этом высокую производительность. ESB заменяет традиционные point-to-point подключения, упрощая архитектуру и повышая ее гибкость и масштабируемость.

Enterprise Service Bus (ESB) — это программное обеспечение, которое действует как центральная шина для интеграции различных приложений и сервисов в пределах предприятия. Основная цель ESB — упростить обмен данными и координацию между разнородными системами, позволяя им взаимодействовать эффективно и согласованно. ESB выступает посредником между этими системами, предоставляя общие механизмы для маршрутизации сообщений, преобразования данных, оркестровки процессов и управления транзакциями.

### Основные характеристики ESB:

1. **Маршрутизация сообщений**:
   ESB управляет потоком сообщений между различными системами, определяя маршруты на основании правил и политик. Это позволяет динамически перенаправлять сообщения в нужные точки назначения.

2. **Преобразование данных**:
   ESB может преобразовывать форматы данных из одного формата в другой, чтобы различные системы могли понимать и обрабатывать сообщения. Например, преобразование из XML в JSON или наоборот.

3. **Оркестрация процессов**:
   ESB может координировать выполнение последовательностей действий между несколькими системами, обеспечивая соблюдение бизнес-процессов и логики.

4. **Управление транзакциями**:
   ESB контролирует выполнение транзакций, гарантируя, что все шаги выполняются успешно или отменяются в случае ошибки.

5. **Мониторинг и управление**:
   ESB предоставляет инструменты для мониторинга и управления всеми интегрированными системами, что позволяет отслеживать производительность, выявлять сбои и оперативно реагировать на инциденты.

### Преимущества использования ESB:

- **Упрощение интеграции**: ESB устраняет необходимость в создании множества прямых соединений между системами, снижая сложность и улучшая управляемость.
- **Повышение гибкости**: Легкая замена или добавление новых систем без значительных изменений в существующей инфраструктуре.
- **Стандартизация коммуникаций**: Единообразие в формате и структуре сообщений способствует лучшей интероперабельности.
- **Масштабируемость**: Централизация функций интеграции позволяет легче справляться с ростом числа систем и объемов данных.
- **Надежность и отказоустойчивость**: Механизмы управления транзакциями и резервирования обеспечивают устойчивость к сбоям и ошибкам.

### Пример использования ESB:

Представьте себе предприятие, в котором работают несколько независимых систем: CRM-система для управления клиентами, ERP-система для учета ресурсов и финансов, и складская система для управления запасами. ESB интегрирует эти системы, обеспечивая обмен данными между ними:

- Когда клиент размещает заказ в CRM-системе, ESB маршрутизирует сообщение с данными заказа в ERP-систему для обработки оплаты и выставления счета.
- Затем ESB направляет информацию о заказе в складскую систему для подготовки товара к отгрузке.
- После завершения всех этапов ESB возвращает подтверждение в CRM-систему, обновляя статус заказа.

### Заключение

Enterprise Service Bus — это мощный инструмент для интеграции и координации различных систем в пределах предприятия. Он значительно упрощает управление сложными интеграционными сценариями, обеспечивая гибкость, масштабируемость и надежность.
